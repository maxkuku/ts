export function getBookInfo(isbn) {
    return fetch('https://www.googleapis.com/books/v1/volumes?q=isbn:' + isbn)
        .then((response) => {
        // конвертируем тело ответа в обычный текст
        return response.text();
    })
        .then((responseText) => {
        // парсим полученный текст в JSON
        return JSON.parse(responseText);
    })
        .then((data) => {
        // таким образом здесь data уже имеет тип BookResponse
        if (data.totalItems === 0) {
            throw Error(`There is no book with isbn ${isbn}.`);
        }
        // вернём первую книгу, так как одному ISBN соответствует одна книга
        return data.items[0];
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ29vZ2xlLWJvb2tzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2dvb2dsZS1ib29rcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFzQkEsTUFBTSxVQUFVLFdBQVcsQ0FBQyxJQUFZO0lBQ3RDLE9BQU8sS0FBSyxDQUFDLHFEQUFxRCxHQUFHLElBQUksQ0FBQztTQUV2RSxJQUFJLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRTtRQUNuQiwyQ0FBMkM7UUFDekMsT0FBTyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDeEIsQ0FBQyxDQUFDO1NBRUQsSUFBSSxDQUFlLENBQUMsWUFBWSxFQUFFLEVBQUU7UUFDckMsaUNBQWlDO1FBQy9CLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQTtJQUNqQyxDQUFDLENBQUM7U0FFRCxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtRQUNiLHNEQUFzRDtRQUN0RCxJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssQ0FBQyxFQUFFO1lBQ3pCLE1BQU0sS0FBSyxDQUFDLDhCQUE4QixJQUFJLEdBQUcsQ0FBQyxDQUFBO1NBQ25EO1FBQ0Qsb0VBQW9FO1FBQ3BFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQTtJQUN0QixDQUFDLENBQUMsQ0FBQTtBQUNOLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuLy8g0YHRgtGA0YPQutGC0YPRgNCwINCy0YHQtdCz0L4g0L7RgtCy0LXRgtCwXG5leHBvcnQgaW50ZXJmYWNlIEJvb2tSZXNwb25zZSB7XG4gIGtpbmQ6IHN0cmluZ1xuICB0b3RhbEl0ZW1zOiBudW1iZXJcbiAgaXRlbXM6IEJvb2tbXVxufVxuLy8g0YHRgtGA0YPQutGC0YPRgNCwINGB0LDQvNC+0Lkg0LrQvdC40LPQuFxuLy8g0L7Qv9C40YjQtdC8INGC0L7Qu9GM0LrQviDQvtGB0L3QvtCy0L3Ri9C1INC/0L7Qu9GPLCDRgSDQutC+0YLQvtGA0YvQvNC4INC/0LvQsNC90LjRgNGD0LXQvCDRgNCw0LHQvtGC0LDRgtGMXG5leHBvcnQgaW50ZXJmYWNlIEJvb2sge1xuICBpZDogc3RyaW5nXG4gIGtpbmQ6IHN0cmluZ1xuICBldGFnOiBzdHJpbmdcbiAgdm9sdW1lSW5mbzoge1xuICAgIHRpdGxlOiBzdHJpbmdcbiAgICBhdXRob3JzOiBzdHJpbmdbXVxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgICBwdWJsaXNoZWREYXRlOiBzdHJpbmdcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm9va0luZm8oaXNibjogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaCgnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYm9va3MvdjEvdm9sdW1lcz9xPWlzYm46JyArIGlzYm4pXG5cbiAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAvLyDQutC+0L3QstC10YDRgtC40YDRg9C10Lwg0YLQtdC70L4g0L7RgtCy0LXRgtCwINCyINC+0LHRi9GH0L3Ri9C5INGC0LXQutGB0YJcbiAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KClcbiAgICB9KVxuXG4gICAgLnRoZW48Qm9va1Jlc3BvbnNlPigocmVzcG9uc2VUZXh0KSA9PiB7XG4gICAgLy8g0L/QsNGA0YHQuNC8INC/0L7Qu9GD0YfQtdC90L3Ri9C5INGC0LXQutGB0YIg0LIgSlNPTlxuICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KVxuICAgIH0pXG5cbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgLy8g0YLQsNC60LjQvCDQvtCx0YDQsNC30L7QvCDQt9C00LXRgdGMIGRhdGEg0YPQttC1INC40LzQtdC10YIg0YLQuNC/IEJvb2tSZXNwb25zZVxuICAgICAgaWYgKGRhdGEudG90YWxJdGVtcyA9PT0gMCkge1xuICAgICAgICB0aHJvdyBFcnJvcihgVGhlcmUgaXMgbm8gYm9vayB3aXRoIGlzYm4gJHtpc2JufS5gKVxuICAgICAgfVxuICAgICAgLy8g0LLQtdGA0L3RkdC8INC/0LXRgNCy0YPRjiDQutC90LjQs9GDLCDRgtCw0Log0LrQsNC6INC+0LTQvdC+0LzRgyBJU0JOINGB0L7QvtGC0LLQtdGC0YHRgtCy0YPQtdGCINC+0LTQvdCwINC60L3QuNCz0LBcbiAgICAgIHJldHVybiBkYXRhLml0ZW1zWzBdXG4gICAgfSlcbn0iXX0=