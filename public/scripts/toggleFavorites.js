import { localS } from './localStorage.js';
export function toggleFavoriteItem() {
    setTimeout(() => {
        document.querySelectorAll('[data-fav]').forEach((item) => {
            item.addEventListener('click', (event) => {
                // console.log(event.target instanceof HTMLDivElement)
                if (!(event.target instanceof HTMLDivElement)) {
                    return;
                }
                const id = event.target.dataset.fav.toString();
                const favoriteItems = localS.get('favoriteItems');
                if (favoriteItems && JSON.parse(favoriteItems).id === id.toString()) {
                    localS.remove('favoriteItems');
                    event.target.classList.remove('active');
                }
                else {
                    localS.set('favoriteItems', { 'id': id,
                        'name': event.target.closest('.result-container').querySelectorAll('.result-info--header p')[0].textContent,
                        'image': event.target.closest('.result-container').querySelectorAll('.result-img')[0].getAttribute('src') });
                    event.target.classList.add('active');
                }
            });
        });
    }, 1000);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9nZ2xlRmF2b3JpdGVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3RvZ2dsZUZhdm9yaXRlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sbUJBQW1CLENBQUE7QUFJMUMsTUFBTSxVQUFVLGtCQUFrQjtJQUloQyxVQUFVLENBQUUsR0FBRyxFQUFFO1FBQ2YsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1lBQ3ZELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTtnQkFFdkMsc0RBQXNEO2dCQUV0RCxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxZQUFZLGNBQWMsQ0FBQyxFQUFFO29CQUM3QyxPQUFPO2lCQUNSO2dCQUVELE1BQU0sRUFBRSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQTtnQkFDOUMsTUFBTSxhQUFhLEdBQWtCLE1BQU0sQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7Z0JBR2pFLElBQUksYUFBYSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsRUFBRTtvQkFFbkUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQTtvQkFDOUIsS0FBSyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFBO2lCQUN4QztxQkFDSTtvQkFFSCxNQUFNLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFDeEIsRUFBQyxJQUFJLEVBQUUsRUFBRTt3QkFDUCxNQUFNLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVc7d0JBQzNHLE9BQU8sRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQ2pILEtBQUssQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQTtpQkFDckM7WUFDSCxDQUFDLENBQUMsQ0FBQTtRQUNKLENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFBO0FBRVQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgbG9jYWxTIH0gZnJvbSAnLi9sb2NhbFN0b3JhZ2UuanMnXG5cblxuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlRmF2b3JpdGVJdGVtICgpIHtcblxuICBcblxuICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZmF2XScpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRGl2RWxlbWVudClcblxuICAgICAgICBpZiAoIShldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRGl2RWxlbWVudCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZhdi50b1N0cmluZygpXG4gICAgICAgIGNvbnN0IGZhdm9yaXRlSXRlbXM6IHN0cmluZyB8IG51bGwgPSBsb2NhbFMuZ2V0KCdmYXZvcml0ZUl0ZW1zJyk7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgaWYgKGZhdm9yaXRlSXRlbXMgJiYgSlNPTi5wYXJzZShmYXZvcml0ZUl0ZW1zKS5pZCA9PT0gaWQudG9TdHJpbmcoKSkge1xuICAgICAgICAgIFxuICAgICAgICAgIGxvY2FsUy5yZW1vdmUoJ2Zhdm9yaXRlSXRlbXMnKVxuICAgICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyBcbiAgICAgICAgICBcbiAgICAgICAgICBsb2NhbFMuc2V0KCdmYXZvcml0ZUl0ZW1zJywgXG4gICAgICAgICAgICB7J2lkJzogaWQsIFxuICAgICAgICAgICAgICAnbmFtZSc6IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcucmVzdWx0LWNvbnRhaW5lcicpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXN1bHQtaW5mby0taGVhZGVyIHAnKVswXS50ZXh0Q29udGVudCwgXG4gICAgICAgICAgICAgICdpbWFnZSc6IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcucmVzdWx0LWNvbnRhaW5lcicpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXN1bHQtaW1nJylbMF0uZ2V0QXR0cmlidXRlKCdzcmMnKSB9KTtcbiAgICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9LDEwMDApXG5cbn0iXX0=