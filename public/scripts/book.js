export class Book {
    constructor(name, genre, price, author, reviews) {
        this.name = name;
        this.genre = genre;
        this.price = price;
        this.author = author;
        if (reviews) {
            this.reviews = reviews;
        }
        else {
            this.reviews = [];
        }
        // рассчитаем рейтинг на основе отзывов
        if (this.reviews.length > 0) {
            const reviewSum = this.reviews.reduce((accumulator, currentValue) => {
                return accumulator + currentValue[1];
            }, 0);
            this.rating = reviewSum / this.reviews.length;
        }
        else {
            this.rating = 0;
        }
    }
    getProductDescription() {
        return `Book "${this.name}" by ${this.author.firstName} ${this.author.lastName}`;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9vay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ib29rLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLE1BQU0sT0FBTyxJQUFJO0lBUWYsWUFDRSxJQUFZLEVBQ1osS0FBWSxFQUNaLEtBQWEsRUFDYixNQUF1QixFQUN2QixPQUFrQjtRQUdsQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQTtRQUNoQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQTtRQUNsQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQTtRQUNsQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQTtRQUVwQixJQUFJLE9BQU8sRUFBRTtZQUNYLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1NBQUU7YUFDckI7WUFDSCxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQTtTQUNsQjtRQUVELHdDQUF3QztRQUN4QyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUMzQixNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FDbkMsQ0FBQyxXQUFXLEVBQUUsWUFBWSxFQUFFLEVBQUU7Z0JBQzVCLE9BQU8sV0FBVyxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUN0QyxDQUFDLEVBQ0QsQ0FBQyxDQUNGLENBQUE7WUFFRCxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQTtTQUM5QzthQUNJO1lBQ0gsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUE7U0FDaEI7SUFHSCxDQUFDO0lBRUQscUJBQXFCO1FBQ25CLE9BQU8sU0FBUyxJQUFJLENBQUMsSUFBSSxRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUE7SUFFbEYsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBBdXRob3IgfSBmcm9tICcuL2F1dGhvci5qcydcbmltcG9ydCB7IFJhdGluZ2FibGUgfSBmcm9tICcuL3JhdGluZ2FibGUuanMnXG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSAnLi9wcm9kdWN0LmpzJ1xuaW1wb3J0IHsgUmV2aWV3LCBHZW5yZSB9IGZyb20gJy4vdHlwZXMuanMnXG5cblxuZXhwb3J0IGNsYXNzIEJvb2sgaW1wbGVtZW50cyBSYXRpbmdhYmxlLCBQcm9kdWN0IHsgXG4gIG5hbWU6IHN0cmluZ1xuICBnZW5yZTogR2VucmVcbiAgcHJpY2U6IG51bWJlclxuICBhdXRob3I6IFBhcnRpYWw8QXV0aG9yPlxuICByZXZpZXdzOiBSZXZpZXdbXVxuICByYXRpbmc6IG51bWJlclxuXG4gIGNvbnN0cnVjdG9yIChcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgZ2VucmU6IEdlbnJlLFxuICAgIHByaWNlOiBudW1iZXIsXG4gICAgYXV0aG9yOiBQYXJ0aWFsPEF1dGhvcj4sXG4gICAgcmV2aWV3cz86IFJldmlld1tdXG4gIClcbiAge1xuICAgIHRoaXMubmFtZSA9IG5hbWUgXG4gICAgdGhpcy5nZW5yZSA9IGdlbnJlIFxuICAgIHRoaXMucHJpY2UgPSBwcmljZSBcbiAgICB0aGlzLmF1dGhvciA9IGF1dGhvciBcbiAgICBcbiAgICBpZiAocmV2aWV3cykge1xuICAgICAgdGhpcy5yZXZpZXdzID0gcmV2aWV3cyB9IFxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5yZXZpZXdzID0gW10gXG4gICAgfVxuXG4gICAgLy8g0YDQsNGB0YHRh9C40YLQsNC10Lwg0YDQtdC4zIbRgtC40L3QsyDQvdCwINC+0YHQvdC+0LLQtSDQvtGC0LfRi9Cy0L7QslxuICAgIGlmICh0aGlzLnJldmlld3MubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgcmV2aWV3U3VtID0gdGhpcy5yZXZpZXdzLnJlZHVjZShcbiAgICAgICAgKGFjY3VtdWxhdG9yLCBjdXJyZW50VmFsdWUpID0+IHsgXG4gICAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yICsgY3VycmVudFZhbHVlWzFdXG4gICAgICAgIH0sXG4gICAgICAgIDBcbiAgICAgIClcblxuICAgICAgdGhpcy5yYXRpbmcgPSByZXZpZXdTdW0gLyB0aGlzLnJldmlld3MubGVuZ3RoIFxuICAgIH0gXG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnJhdGluZyA9IDAgXG4gICAgfVxuXG4gICAgXG4gIH1cblxuICBnZXRQcm9kdWN0RGVzY3JpcHRpb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYEJvb2sgXCIke3RoaXMubmFtZX1cIiBieSAke3RoaXMuYXV0aG9yLmZpcnN0TmFtZX0gJHt0aGlzLmF1dGhvci5sYXN0TmFtZX1gXG5cbiAgfVxufVxuXG5cblxuXG4iXX0=